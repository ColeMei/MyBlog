{{/* Theme toggle and scroll button CSS - no SCSS compilation needed */}}
<style>
  /* Smooth transitions for theme switching */
  * {
    transition: color 0.3s ease, background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease, opacity 0.3s ease !important;
  }
  
  /* Toggle container positioning */
  .theme-toggle-container {
    position: fixed;
    top: 30px;
    right: 30px;
    z-index: 10000;
    pointer-events: auto;
  }
  
  /* Scroll button styling responsive to theme */
  .scroll-up {
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
    transition: filter 0.3s ease;
  }
  
  .scroll-up:hover {
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.5)) brightness(1.1);
  }
  
  /* Dark theme scroll button (default) */
  .scroll-up .scroll #st-circle {
    fill: #3b3e48;
    transition: fill 0.3s ease;
  }
  
  .scroll-up .scroll #st-ring {
    stroke: #cccccc;
    stroke-width: 1;
    transition: stroke 0.3s ease;
  }
  
  .scroll-up .scroll #st-arrow {
    fill: #018472;
    transition: fill 0.3s ease;
  }
  
  /* Light theme scroll button */
  [data-theme="light"] .scroll-up .scroll #st-circle {
    fill: #e8e8e8;
  }
  
  [data-theme="light"] .scroll-up .scroll #st-ring {
    stroke: #018472;
    stroke-width: 1.2;
  }
  
  [data-theme="light"] .scroll-up .scroll #st-arrow {
    fill: #333;
  }
</style>

{{/* Prevent flash of unstyled content by applying theme before page renders */}}
<script>
  (function () {
    const theme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
    document.documentElement.setAttribute('data-theme', theme);
  })();
</script>

{{ $themeToggle := resources.Get "js/theme-toggle.js" | minify | fingerprint }}
<script defer src="{{ $themeToggle.Permalink }}" {{ printf "integrity=%q" $themeToggle.Data.Integrity | safeHTMLAttr }} crossorigin="anonymous"></script>
